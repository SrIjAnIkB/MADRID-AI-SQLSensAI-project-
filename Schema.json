{
  "database": "ecommerce_demo",
  "tables": [
    {
      "name": "customers",
      "columns": [
        {"name": "customer_id", "type": "INT", "nullable": false},
        {"name": "first_name", "type": "VARCHAR(50)", "nullable": false},
        {"name": "last_name", "type": "VARCHAR(50)", "nullable": false},
        {"name": "email", "type": "VARCHAR(100)", "nullable": false},
        {"name": "country", "type": "VARCHAR(50)", "nullable": true},
        {"name": "created_at", "type": "TIMESTAMP", "nullable": true}
      ],
      "primary_key": ["customer_id"],
      "unique_indexes": [
        { "name": "ux_customers_email", "columns": ["email"] }
      ],
      "indexes": [
        { "name": "ix_customers_last_name", "columns": ["last_name"] }
      ]
    },
    {
      "name": "products",
      "columns": [
        {"name": "product_id", "type": "INT", "nullable": false},
        {"name": "name", "type": "VARCHAR(100)", "nullable": false},
        {"name": "sku", "type": "VARCHAR(50)", "nullable": false},
        {"name": "category", "type": "VARCHAR(50)", "nullable": true},
        {"name": "price", "type": "DECIMAL(10,2)", "nullable": false},
        {"name": "active", "type": "BOOLEAN", "nullable": true}
      ],
      "primary_key": ["product_id"],
      "unique_indexes": [
        { "name": "ux_products_sku", "columns": ["sku"] }
      ],
      "indexes": [
        { "name": "ix_products_category", "columns": ["category"] }
      ]
    },
    {
      "name": "orders",
      "columns": [
        {"name": "order_id", "type": "INT", "nullable": false},
        {"name": "customer_id", "type": "INT", "nullable": false},
        {"name": "order_date", "type": "TIMESTAMP", "nullable": false},
        {"name": "status", "type": "VARCHAR(20)", "nullable": false},
        {"name": "total_amount", "type": "DECIMAL(12,2)", "nullable": false}
      ],
      "primary_key": ["order_id"],
      "indexes": [
        { "name": "ix_orders_customer_id", "columns": ["customer_id"] },
        { "name": "ix_orders_order_date", "columns": ["order_date"] }
      ],
      "foreign_keys": [
        {
          "name": "fk_orders_customer",
          "columns": ["customer_id"],
          "references": {
            "table": "customers",
            "columns": ["customer_id"]
          }
        }
      ]
    },
    {
      "name": "order_items",
      "columns": [
        {"name": "order_item_id", "type": "INT", "nullable": false},
        {"name": "order_id", "type": "INT", "nullable": false},
        {"name": "product_id", "type": "INT", "nullable": false},
        {"name": "quantity", "type": "INT", "nullable": false},
        {"name": "unit_price", "type": "DECIMAL(10,2)", "nullable": false}
      ],
      "primary_key": ["order_item_id"],
      "unique_indexes": [
        { "name": "ux_order_items_order_product", "columns": ["order_id", "product_id"] }
      ],
      "indexes": [
        { "name": "ix_order_items_product_id", "columns": ["product_id"] }
      ],
      "foreign_keys": [
        {
          "name": "fk_order_items_order",
          "columns": ["order_id"],
          "references": {
            "table": "orders",
            "columns": ["order_id"]
          }
        },
        {
          "name": "fk_order_items_product",
          "columns": ["product_id"],
          "references": {
            "table": "products",
            "columns": ["product_id"]
          }
        }
      ]
    }
  ]
}